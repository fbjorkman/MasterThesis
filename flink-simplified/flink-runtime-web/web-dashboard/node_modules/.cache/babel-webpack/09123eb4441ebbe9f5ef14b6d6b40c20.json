{"ast":null,"code":"import { fromEvent, merge } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"services\";\nimport * as i2 from \"share/common/monaco-editor/monaco-editor.service\";\nimport * as i3 from \"ng-zorro-antd/layout\";\nimport * as i4 from \"ng-zorro-antd/menu\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"ng-zorro-antd/icon\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"ng-zorro-antd/divider\";\nimport * as i9 from \"ng-zorro-antd/badge\";\nimport * as i10 from \"ng-zorro-antd/drawer\";\nimport * as i11 from \"ng-zorro-antd/alert\";\n\nconst _c0 = function () {\n  return [\"/submit\"];\n};\n\nfunction AppComponent_li_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 5);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelement(2, \"i\", 23);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Submit New Job\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nfunction AppComponent_ng_container_66_nz_alert_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nz-alert\", 25);\n  }\n\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"nzShowIcon\", true)(\"nzType\", \"info\")(\"nzMessage\", \"Server Response:\")(\"nzDescription\", message_r3);\n  }\n}\n\nfunction AppComponent_ng_container_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AppComponent_ng_container_66_nz_alert_1_Template, 1, 4, \"nz-alert\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.statusService.listOfErrorMessage);\n  }\n}\n\nconst _c1 = function () {\n  return [\"/overview\"];\n};\n\nconst _c2 = function () {\n  return [\"/job/running\"];\n};\n\nconst _c3 = function () {\n  return [\"/job/completed\"];\n};\n\nconst _c4 = function () {\n  return [\"/task-manager\"];\n};\n\nconst _c5 = function () {\n  return [\"/job-manager\"];\n};\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(statusService, monacoEditorService) {\n      this.statusService = statusService;\n      this.monacoEditorService = monacoEditorService;\n      this.collapsed = false;\n      this.visible = false;\n      this.online$ = merge(fromEvent(window, 'offline').pipe(map(() => false)), fromEvent(window, 'online').pipe(map(() => true))).pipe(startWith(true));\n      this.webSubmitEnabled = this.statusService.configuration.features['web-submit'];\n    }\n\n    showMessage() {\n      if (this.statusService.listOfErrorMessage.length) {\n        this.visible = true;\n      }\n    }\n\n    clearMessage() {\n      this.statusService.listOfErrorMessage = [];\n      this.visible = false;\n    }\n\n    toggleCollapse() {\n      this.collapsed = !this.collapsed;\n      this.monacoEditorService.layout();\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.StatusService), i0.ɵɵdirectiveInject(i2.MonacoEditorService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"flink-root\"]],\n    decls: 67,\n    vars: 32,\n    consts: [[\"nzCollapsible\", \"\", 3, \"nzCollapsed\", \"nzTrigger\", \"nzWidth\", \"nzCollapsedChange\"], [1, \"logo\"], [\"href\", \"#/\"], [\"src\", \"assets/images/flink.svg\"], [\"nz-menu\", \"\", 1, \"menu\", 3, \"nzTheme\", \"nzMode\", \"nzInlineCollapsed\"], [\"nz-menu-item\", \"\", \"routerLinkActive\", \"ant-menu-item-selected\", 3, \"routerLink\"], [\"nz-icon\", \"\", \"nzType\", \"dashboard\"], [\"nz-submenu\", \"\", 3, \"nzOpen\"], [\"title\", \"\"], [\"nz-icon\", \"\", \"nzType\", \"bars\"], [\"nz-icon\", \"\", \"nzType\", \"play-circle\"], [\"nz-icon\", \"\", \"nzType\", \"check-circle\"], [\"nz-icon\", \"\", \"nzType\", \"schedule\"], [\"nz-icon\", \"\", \"nzType\", \"build\"], [\"nz-menu-item\", \"\", \"routerLinkActive\", \"ant-menu-item-selected\", 3, \"routerLink\", 4, \"ngIf\"], [\"nz-icon\", \"\", 1, \"trigger\", 3, \"nzType\", \"click\"], [1, \"right\"], [\"nzType\", \"vertical\"], [3, \"hidden\"], [\"nzShowZero\", \"\", 3, \"nzCount\", \"click\"], [1, \"offline\"], [\"nzPlacement\", \"right\", \"nzTitle\", \"Server Response Message List\", 3, \"nzVisible\", \"nzWidth\", \"nzOnClose\"], [4, \"nzDrawerContent\"], [\"nz-icon\", \"\", \"nzType\", \"upload\"], [3, \"nzShowIcon\", \"nzType\", \"nzMessage\", \"nzDescription\", 4, \"ngFor\", \"ngForOf\"], [3, \"nzShowIcon\", \"nzType\", \"nzMessage\", \"nzDescription\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nz-layout\");\n        i0.ɵɵelementStart(1, \"nz-sider\", 0);\n        i0.ɵɵlistener(\"nzCollapsedChange\", function AppComponent_Template_nz_sider_nzCollapsedChange_1_listener($event) {\n          return ctx.collapsed = $event;\n        });\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"a\", 2);\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6, \"Apache Flink Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"ul\", 4);\n        i0.ɵɵelementStart(8, \"li\", 5);\n        i0.ɵɵelementStart(9, \"span\");\n        i0.ɵɵelement(10, \"i\", 6);\n        i0.ɵɵelementStart(11, \"span\");\n        i0.ɵɵtext(12, \"Overview\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"li\", 7);\n        i0.ɵɵelementStart(14, \"span\", 8);\n        i0.ɵɵelement(15, \"i\", 9);\n        i0.ɵɵelementStart(16, \"span\");\n        i0.ɵɵtext(17, \"Jobs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"ul\");\n        i0.ɵɵelementStart(19, \"li\", 5);\n        i0.ɵɵelementStart(20, \"span\");\n        i0.ɵɵelement(21, \"i\", 10);\n        i0.ɵɵelementStart(22, \"span\");\n        i0.ɵɵtext(23, \"Running Jobs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"li\", 5);\n        i0.ɵɵelementStart(25, \"span\");\n        i0.ɵɵelement(26, \"i\", 11);\n        i0.ɵɵelementStart(27, \"span\");\n        i0.ɵɵtext(28, \"Completed Jobs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"li\", 5);\n        i0.ɵɵelementStart(30, \"span\");\n        i0.ɵɵelement(31, \"i\", 12);\n        i0.ɵɵelementStart(32, \"span\");\n        i0.ɵɵtext(33, \"Task Managers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"li\", 5);\n        i0.ɵɵelementStart(35, \"span\");\n        i0.ɵɵelement(36, \"i\", 13);\n        i0.ɵɵelementStart(37, \"span\");\n        i0.ɵɵtext(38, \"Job Manager\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(39, AppComponent_li_39_Template, 5, 2, \"li\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"nz-layout\");\n        i0.ɵɵelementStart(41, \"nz-header\");\n        i0.ɵɵelementStart(42, \"i\", 15);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_i_click_42_listener() {\n          return ctx.toggleCollapse();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 16);\n        i0.ɵɵelementStart(44, \"span\");\n        i0.ɵɵelementStart(45, \"strong\");\n        i0.ɵɵtext(46, \"Version:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(47);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"nz-divider\", 17);\n        i0.ɵɵelementStart(49, \"span\");\n        i0.ɵɵelementStart(50, \"strong\");\n        i0.ɵɵtext(51, \"Commit:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(52);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"nz-divider\", 17);\n        i0.ɵɵelementStart(54, \"span\", 18);\n        i0.ɵɵpipe(55, \"async\");\n        i0.ɵɵelementStart(56, \"strong\");\n        i0.ɵɵtext(57, \" Message: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"nz-badge\", 19);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_nz_badge_click_58_listener() {\n          return ctx.showMessage();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"span\", 18);\n        i0.ɵɵpipe(60, \"async\");\n        i0.ɵɵelementStart(61, \"strong\", 20);\n        i0.ɵɵtext(62, \"Lost Connection, Reconnecting Now...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"nz-content\");\n        i0.ɵɵelement(64, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"nz-drawer\", 21);\n        i0.ɵɵlistener(\"nzOnClose\", function AppComponent_Template_nz_drawer_nzOnClose_65_listener() {\n          return ctx.clearMessage();\n        });\n        i0.ɵɵtemplate(66, AppComponent_ng_container_66_Template, 2, 1, \"ng-container\", 22);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"nzCollapsed\", ctx.collapsed)(\"nzTrigger\", null)(\"nzWidth\", 256);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"nzTheme\", \"dark\")(\"nzMode\", \"inline\")(\"nzInlineCollapsed\", ctx.collapsed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(27, _c1));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"nzOpen\", true);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(28, _c2));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(29, _c3));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c4));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c5));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.webSubmitEnabled);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"nzType\", ctx.collapsed ? \"menu-unfold\" : \"menu-fold\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.statusService.configuration[\"flink-version\"], \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.statusService.configuration[\"flink-revision\"], \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !i0.ɵɵpipeBind1(55, 23, ctx.online$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵclassProp(\"normal\", ctx.statusService.listOfErrorMessage.length === 0);\n        i0.ɵɵproperty(\"nzCount\", ctx.statusService.listOfErrorMessage.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", i0.ɵɵpipeBind1(60, 25, ctx.online$));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"nzVisible\", ctx.visible)(\"nzWidth\", 500);\n      }\n    },\n    directives: [i3.NzLayoutComponent, i3.NzSiderComponent, i4.NzMenuDirective, i4.NzMenuItemDirective, i5.RouterLinkActive, i5.RouterLink, i6.NzIconDirective, i4.NzSubMenuComponent, i7.NgIf, i3.NzHeaderComponent, i8.NzDividerComponent, i9.NzBadgeComponent, i3.NzContentComponent, i5.RouterOutlet, i10.NzDrawerComponent, i10.NzDrawerContentDirective, i7.NgForOf, i11.NzAlertComponent],\n    pipes: [i7.AsyncPipe],\n    styles: [\".trigger[_ngcontent-%COMP%]{font-size:18px;line-height:64px;padding:0 24px;cursor:pointer;transition:color .3s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.logo[_ngcontent-%COMP%]{height:64px;position:relative;padding-left:24px;transition:all .3s ease 0s;background:#001529;overflow:hidden}.logo[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:64px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-family:Myriad Pro,Helvetica Neue,Arial,Helvetica,sans-serif;font-weight:600;margin:0 0 0 12px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:32px;width:32px;top:-4px;position:relative}nz-layout[_ngcontent-%COMP%]{min-height:100vh;overflow:hidden;background:#f2f2f2}nz-sider[_ngcontent-%COMP%]{min-height:100vh;box-shadow:2px 0 6px rgba(0,21,41,.35);position:relative;z-index:10}nz-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #f0f0f0;box-shadow:0 1px 4px rgba(0,21,41,.08);position:relative;padding:0 12px 0 0;flex:0 0 auto;overflow:hidden}nz-header[_ngcontent-%COMP%]   nz-badge[_ngcontent-%COMP%]{vertical-align:middle;margin-left:12px;cursor:pointer}nz-header[_ngcontent-%COMP%]   nz-badge[_ngcontent-%COMP%]     .ant-badge-count{background:#1890ff}nz-header[_ngcontent-%COMP%]   nz-badge.normal[_ngcontent-%COMP%]{cursor:default}nz-header[_ngcontent-%COMP%]   nz-badge.normal[_ngcontent-%COMP%]     .ant-badge-count{background:rgba(0,0,0,.85)}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right;height:100%}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 12px;display:inline-block;height:100%;color:rgba(0,0,0,.85)}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{transition:all .3s}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover{background:#fafafa}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;vertical-align:middle}nz-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{cursor:default}nz-content[_ngcontent-%COMP%]{margin:24px;height:100%;flex:1 1 auto}.menu[_ngcontent-%COMP%]{padding:16px 0}nz-alert[_ngcontent-%COMP%]{margin-bottom:12px}.offline[_ngcontent-%COMP%]{color:#ff4d4f;-webkit-animation:opacity 3s ease-in infinite alternate;animation:opacity 3s ease-in infinite alternate}@-webkit-keyframes opacity{0%{opacity:1}50%{opacity:.2}to{opacity:1}}@keyframes opacity{0%{opacity:1}50%{opacity:.2}to{opacity:1}}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}