{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { flatMap, share, takeUntil } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"services\";\nimport * as i2 from \"./statistic/overview-statistic.component\";\nimport * as i3 from \"share/customize/job-list/job-list.component\";\nexport let OverviewComponent = /*#__PURE__*/(() => {\n  class OverviewComponent {\n    constructor(statusService, jobService) {\n      this.statusService = statusService;\n      this.jobService = jobService;\n      this.destroy$ = new Subject();\n    }\n\n    ngOnInit() {\n      this.jobData$ = this.statusService.refresh$.pipe(takeUntil(this.destroy$), flatMap(() => this.jobService.loadJobs()), share());\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n\n  }\n\n  OverviewComponent.ɵfac = function OverviewComponent_Factory(t) {\n    return new (t || OverviewComponent)(i0.ɵɵdirectiveInject(i1.StatusService), i0.ɵɵdirectiveInject(i1.JobService));\n  };\n\n  OverviewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OverviewComponent,\n    selectors: [[\"flink-overview\"]],\n    decls: 3,\n    vars: 6,\n    consts: [[3, \"jobData$\", \"title\", \"completed\"]],\n    template: function OverviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"flink-overview-statistic\");\n        i0.ɵɵelement(1, \"flink-job-list\", 0);\n        i0.ɵɵelement(2, \"flink-job-list\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"jobData$\", ctx.jobData$)(\"title\", \"Running Job List\")(\"completed\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"jobData$\", ctx.jobData$)(\"title\", \"Completed Job List\")(\"completed\", true);\n      }\n    },\n    directives: [i2.OverviewStatisticComponent, i3.JobListComponent],\n    styles: [\"flink-job-list[_ngcontent-%COMP%]{display:block;margin-bottom:24px}\"],\n    changeDetection: 0\n  });\n  return OverviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}