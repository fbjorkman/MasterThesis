{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport * as i1 from '@angular/cdk/overlay';\nimport { Overlay, OverlayModule, ConnectionPositionPair } from '@angular/cdk/overlay';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, Directive, ElementRef, Renderer2, ViewContainerRef, Input, Output, NgModule, Host, Optional, Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, TemplateRef, Injectable } from '@angular/core';\nimport { Subject, BehaviorSubject, merge, fromEvent, EMPTY, combineLatest, Subscription } from 'rxjs';\nimport { mapTo, map, switchMap, filter, auditTime, distinctUntilChanged, takeUntil, take } from 'rxjs/operators';\nimport { warnDeprecation } from 'ng-zorro-antd/core/logger';\nimport { POSITION_MAP, NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonGroupComponent, NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzNoAnimationDirective, NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { MenuService, NzIsMenuInsideDropDownToken, NzMenuModule } from 'ng-zorro-antd/menu';\nimport { slideMotion } from 'ng-zorro-antd/core/animation';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/overlay';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from 'ng-zorro-antd/button';\nimport * as ɵngcc4 from 'ng-zorro-antd/menu';\nimport * as ɵngcc5 from '@angular/cdk/bidi';\nimport * as ɵngcc6 from 'ng-zorro-antd/core/no-animation';\nimport * as ɵngcc7 from '@angular/common';\n\nfunction NzDropdownMenuComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n    ɵngcc0.ɵɵlistener(\"@slideMotion.done\", function NzDropdownMenuComponent_ng_template_0_Template_div_animation_slideMotion_done_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      const ctx_r1 = ɵngcc0.ɵɵnextContext();\n      return ctx_r1.onAnimationEvent($event);\n    })(\"mouseenter\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseenter_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      const ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ctx_r3.setMouseState(true);\n    })(\"mouseleave\", function NzDropdownMenuComponent_ng_template_0_Template_div_mouseleave_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r2);\n      const ctx_r4 = ɵngcc0.ɵɵnextContext();\n      return ctx_r4.setMouseState(false);\n    });\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-dropdown-rtl\", ctx_r0.dir === \"rtl\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r0.nzOverlayClassName)(\"ngStyle\", ctx_r0.nzOverlayStyle)(\"@slideMotion\", undefined)(\"@.disabled\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation)(\"nzNoAnimation\", ctx_r0.noAnimation == null ? null : ctx_r0.noAnimation.nzNoAnimation);\n  }\n}\n\nconst _c0 = [\"*\"];\nconst listOfPositions$1 = [POSITION_MAP.bottomLeft, POSITION_MAP.bottomRight, POSITION_MAP.topRight, POSITION_MAP.topLeft];\nlet NzDropDownDirective = /*#__PURE__*/(() => {\n  class NzDropDownDirective {\n    constructor(elementRef, overlay, renderer, viewContainerRef, platform) {\n      this.elementRef = elementRef;\n      this.overlay = overlay;\n      this.renderer = renderer;\n      this.viewContainerRef = viewContainerRef;\n      this.platform = platform;\n      this.overlayRef = null;\n      this.destroy$ = new Subject();\n      this.positionStrategy = this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn('.ant-dropdown');\n      this.inputVisible$ = new BehaviorSubject(false);\n      this.nzTrigger$ = new BehaviorSubject('hover');\n      this.overlayClose$ = new Subject();\n      this.nzDropdownMenu = null;\n      this.nzTrigger = 'hover';\n      this.nzMatchWidthElement = null;\n      /**\n       * @deprecated Not supported, use `nzBackdrop` instead.\n       * @breaking-change 13.0.0\n       */\n\n      this.nzHasBackdrop = false;\n      this.nzBackdrop = false;\n      this.nzClickHide = true;\n      this.nzDisabled = false;\n      this.nzVisible = false;\n      this.nzOverlayClassName = '';\n      this.nzOverlayStyle = {};\n      this.nzPlacement = 'bottomLeft';\n      this.nzVisibleChange = new EventEmitter(); // TODO: move to host after View Engine deprecation\n\n      this.elementRef.nativeElement.classList.add('ant-dropdown-trigger');\n    }\n\n    setDropdownMenuValue(key, value) {\n      if (this.nzDropdownMenu) {\n        this.nzDropdownMenu.setValue(key, value);\n      }\n    }\n\n    ngAfterViewInit() {\n      if (this.nzDropdownMenu) {\n        const nativeElement = this.elementRef.nativeElement;\n        /** host mouse state **/\n\n        const hostMouseState$ = merge(fromEvent(nativeElement, 'mouseenter').pipe(mapTo(true)), fromEvent(nativeElement, 'mouseleave').pipe(mapTo(false)));\n        /** menu mouse state **/\n\n        const menuMouseState$ = this.nzDropdownMenu.mouseState$;\n        /** merged mouse state **/\n\n        const mergedMouseState$ = merge(menuMouseState$, hostMouseState$);\n        /** host click state **/\n\n        const hostClickState$ = fromEvent(nativeElement, 'click').pipe(map(() => !this.nzVisible));\n        /** visible state switch by nzTrigger **/\n\n        const visibleStateByTrigger$ = this.nzTrigger$.pipe(switchMap(trigger => {\n          if (trigger === 'hover') {\n            return mergedMouseState$;\n          } else if (trigger === 'click') {\n            return hostClickState$;\n          } else {\n            return EMPTY;\n          }\n        }));\n        const descendantMenuItemClick$ = this.nzDropdownMenu.descendantMenuItemClick$.pipe(filter(() => this.nzClickHide), mapTo(false));\n        const domTriggerVisible$ = merge(visibleStateByTrigger$, descendantMenuItemClick$, this.overlayClose$).pipe(filter(() => !this.nzDisabled));\n        const visible$ = merge(this.inputVisible$, domTriggerVisible$);\n        combineLatest([visible$, this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(map(([visible, sub]) => visible || sub), auditTime(150), distinctUntilChanged(), filter(() => this.platform.isBrowser), takeUntil(this.destroy$)).subscribe(visible => {\n          const element = this.nzMatchWidthElement ? this.nzMatchWidthElement.nativeElement : nativeElement;\n          const triggerWidth = element.getBoundingClientRect().width;\n\n          if (this.nzVisible !== visible) {\n            this.nzVisibleChange.emit(visible);\n          }\n\n          this.nzVisible = visible;\n\n          if (visible) {\n            /** set up overlayRef **/\n            if (!this.overlayRef) {\n              /** new overlay **/\n              this.overlayRef = this.overlay.create({\n                positionStrategy: this.positionStrategy,\n                minWidth: triggerWidth,\n                disposeOnNavigation: true,\n                hasBackdrop: (this.nzHasBackdrop || this.nzBackdrop) && this.nzTrigger === 'click',\n                scrollStrategy: this.overlay.scrollStrategies.reposition()\n              });\n              merge(this.overlayRef.backdropClick(), this.overlayRef.detachments(), this.overlayRef.outsidePointerEvents().pipe(filter(e => !this.elementRef.nativeElement.contains(e.target))), this.overlayRef.keydownEvents().pipe(filter(e => e.keyCode === ESCAPE && !hasModifierKey(e)))).pipe(takeUntil(this.destroy$)).subscribe(() => {\n                this.overlayClose$.next(false);\n              });\n            } else {\n              /** update overlay config **/\n              const overlayConfig = this.overlayRef.getConfig();\n              overlayConfig.minWidth = triggerWidth;\n            }\n            /** open dropdown with animation **/\n\n\n            this.positionStrategy.withPositions([POSITION_MAP[this.nzPlacement], ...listOfPositions$1]);\n            /** reset portal if needed **/\n\n            if (!this.portal || this.portal.templateRef !== this.nzDropdownMenu.templateRef) {\n              this.portal = new TemplatePortal(this.nzDropdownMenu.templateRef, this.viewContainerRef);\n            }\n\n            this.overlayRef.attach(this.portal);\n          } else {\n            /** detach overlayRef if needed **/\n            if (this.overlayRef) {\n              this.overlayRef.detach();\n            }\n          }\n        });\n        this.nzDropdownMenu.animationStateChange$.pipe(takeUntil(this.destroy$)).subscribe(event => {\n          if (event.toState === 'void') {\n            if (this.overlayRef) {\n              this.overlayRef.dispose();\n            }\n\n            this.overlayRef = null;\n          }\n        });\n      }\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n\n      if (this.overlayRef) {\n        this.overlayRef.dispose();\n        this.overlayRef = null;\n      }\n    }\n\n    ngOnChanges(changes) {\n      const {\n        nzVisible,\n        nzDisabled,\n        nzOverlayClassName,\n        nzOverlayStyle,\n        nzTrigger,\n        nzHasBackdrop\n      } = changes;\n\n      if (nzTrigger) {\n        this.nzTrigger$.next(this.nzTrigger);\n      }\n\n      if (nzVisible) {\n        this.inputVisible$.next(this.nzVisible);\n      }\n\n      if (nzDisabled) {\n        const nativeElement = this.elementRef.nativeElement;\n\n        if (this.nzDisabled) {\n          this.renderer.setAttribute(nativeElement, 'disabled', '');\n          this.inputVisible$.next(false);\n        } else {\n          this.renderer.removeAttribute(nativeElement, 'disabled');\n        }\n      }\n\n      if (nzOverlayClassName) {\n        this.setDropdownMenuValue('nzOverlayClassName', this.nzOverlayClassName);\n      }\n\n      if (nzOverlayStyle) {\n        this.setDropdownMenuValue('nzOverlayStyle', this.nzOverlayStyle);\n      }\n\n      if (nzHasBackdrop) {\n        warnDeprecation('`nzHasBackdrop` in dropdown component will be removed in 13.0.0, please use `nzBackdrop` instead.');\n      }\n    }\n\n  }\n\n  NzDropDownDirective.ɵfac = function NzDropDownDirective_Factory(t) {\n    return new (t || NzDropDownDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Overlay), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform));\n  };\n\n  NzDropDownDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: NzDropDownDirective,\n    selectors: [[\"\", \"nz-dropdown\", \"\"]],\n    inputs: {\n      nzDropdownMenu: \"nzDropdownMenu\",\n      nzTrigger: \"nzTrigger\",\n      nzMatchWidthElement: \"nzMatchWidthElement\",\n      nzHasBackdrop: \"nzHasBackdrop\",\n      nzBackdrop: \"nzBackdrop\",\n      nzClickHide: \"nzClickHide\",\n      nzDisabled: \"nzDisabled\",\n      nzVisible: \"nzVisible\",\n      nzOverlayClassName: \"nzOverlayClassName\",\n      nzOverlayStyle: \"nzOverlayStyle\",\n      nzPlacement: \"nzPlacement\"\n    },\n    outputs: {\n      nzVisibleChange: \"nzVisibleChange\"\n    },\n    exportAs: [\"nzDropdown\"],\n    features: [ɵngcc0.ɵɵNgOnChangesFeature]\n  });\n\n  __decorate([InputBoolean()], NzDropDownDirective.prototype, \"nzHasBackdrop\", void 0);\n\n  __decorate([InputBoolean()], NzDropDownDirective.prototype, \"nzBackdrop\", void 0);\n\n  __decorate([InputBoolean()], NzDropDownDirective.prototype, \"nzClickHide\", void 0);\n\n  __decorate([InputBoolean()], NzDropDownDirective.prototype, \"nzDisabled\", void 0);\n\n  __decorate([InputBoolean()], NzDropDownDirective.prototype, \"nzVisible\", void 0);\n\n  return NzDropDownDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzContextMenuServiceModule = /*#__PURE__*/(() => {\n  class NzContextMenuServiceModule {}\n\n  NzContextMenuServiceModule.ɵfac = function NzContextMenuServiceModule_Factory(t) {\n    return new (t || NzContextMenuServiceModule)();\n  };\n\n  NzContextMenuServiceModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NzContextMenuServiceModule\n  });\n  NzContextMenuServiceModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n  return NzContextMenuServiceModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzDropDownADirective = /*#__PURE__*/(() => {\n  class NzDropDownADirective {\n    constructor(elementRef) {\n      this.elementRef = elementRef; // TODO: move to host after View Engine deprecation\n\n      this.elementRef.nativeElement.classList.add('ant-dropdown-link');\n    }\n\n  }\n\n  NzDropDownADirective.ɵfac = function NzDropDownADirective_Factory(t) {\n    return new (t || NzDropDownADirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  NzDropDownADirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: NzDropDownADirective,\n    selectors: [[\"a\", \"nz-dropdown\", \"\"]]\n  });\n  return NzDropDownADirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzDropdownButtonDirective = /*#__PURE__*/(() => {\n  class NzDropdownButtonDirective {\n    constructor(renderer, nzButtonGroupComponent, elementRef) {\n      this.renderer = renderer;\n      this.nzButtonGroupComponent = nzButtonGroupComponent;\n      this.elementRef = elementRef;\n    }\n\n    ngAfterViewInit() {\n      const parentElement = this.renderer.parentNode(this.elementRef.nativeElement);\n\n      if (this.nzButtonGroupComponent && parentElement) {\n        this.renderer.addClass(parentElement, 'ant-dropdown-button');\n      }\n    }\n\n  }\n\n  NzDropdownButtonDirective.ɵfac = function NzDropdownButtonDirective_Factory(t) {\n    return new (t || NzDropdownButtonDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.NzButtonGroupComponent, 9), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  NzDropdownButtonDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: NzDropdownButtonDirective,\n    selectors: [[\"\", \"nz-button\", \"\", \"nz-dropdown\", \"\"]]\n  });\n  return NzDropdownButtonDirective;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzDropdownMenuComponent = /*#__PURE__*/(() => {\n  class NzDropdownMenuComponent {\n    constructor(cdr, elementRef, renderer, viewContainerRef, nzMenuService, directionality, noAnimation) {\n      this.cdr = cdr;\n      this.elementRef = elementRef;\n      this.renderer = renderer;\n      this.viewContainerRef = viewContainerRef;\n      this.nzMenuService = nzMenuService;\n      this.directionality = directionality;\n      this.noAnimation = noAnimation;\n      this.mouseState$ = new BehaviorSubject(false);\n      this.isChildSubMenuOpen$ = this.nzMenuService.isChildSubMenuOpen$;\n      this.descendantMenuItemClick$ = this.nzMenuService.descendantMenuItemClick$;\n      this.animationStateChange$ = new EventEmitter();\n      this.nzOverlayClassName = '';\n      this.nzOverlayStyle = {};\n      this.dir = 'ltr';\n      this.destroy$ = new Subject();\n    }\n\n    onAnimationEvent(event) {\n      this.animationStateChange$.emit(event);\n    }\n\n    setMouseState(visible) {\n      this.mouseState$.next(visible);\n    }\n\n    setValue(key, value) {\n      this[key] = value;\n      this.cdr.markForCheck();\n    }\n\n    ngOnInit() {\n      var _a;\n\n      (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(direction => {\n        this.dir = direction;\n        this.cdr.detectChanges();\n      });\n      this.dir = this.directionality.value;\n    }\n\n    ngAfterContentInit() {\n      this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement), this.elementRef.nativeElement);\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n\n  }\n\n  NzDropdownMenuComponent.ɵfac = function NzDropdownMenuComponent_Factory(t) {\n    return new (t || NzDropdownMenuComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.MenuService), ɵngcc0.ɵɵdirectiveInject(ɵngcc5.Directionality, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc6.NzNoAnimationDirective, 9));\n  };\n\n  NzDropdownMenuComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NzDropdownMenuComponent,\n    selectors: [[\"nz-dropdown-menu\"]],\n    viewQuery: function NzDropdownMenuComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(TemplateRef, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);\n      }\n    },\n    exportAs: [\"nzDropdownMenu\"],\n    features: [ɵngcc0.ɵɵProvidersFeature([MenuService,\n    /** menu is inside dropdown-menu component **/\n    {\n      provide: NzIsMenuInsideDropDownToken,\n      useValue: true\n    }])],\n    ngContentSelectors: _c0,\n    decls: 1,\n    vars: 0,\n    consts: [[1, \"ant-dropdown\", 3, \"ngClass\", \"ngStyle\", \"nzNoAnimation\", \"mouseenter\", \"mouseleave\"]],\n    template: function NzDropdownMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzDropdownMenuComponent_ng_template_0_Template, 2, 7, \"ng-template\");\n      }\n    },\n    directives: [ɵngcc7.NgClass, ɵngcc7.NgStyle, ɵngcc6.NzNoAnimationDirective],\n    encapsulation: 2,\n    data: {\n      animation: [slideMotion]\n    },\n    changeDetection: 0\n  });\n  return NzDropdownMenuComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nlet NzDropDownModule = /*#__PURE__*/(() => {\n  class NzDropDownModule {}\n\n  NzDropDownModule.ɵfac = function NzDropDownModule_Factory(t) {\n    return new (t || NzDropDownModule)();\n  };\n\n  NzDropDownModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NzDropDownModule\n  });\n  NzDropDownModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[BidiModule, CommonModule, OverlayModule, FormsModule, NzButtonModule, NzMenuModule, NzIconModule, NzNoAnimationModule, PlatformModule, NzOverlayModule, NzContextMenuServiceModule, NzOutletModule], NzMenuModule]\n  });\n  return NzDropDownModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzDropDownModule, {\n    declarations: function () {\n      return [NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective];\n    },\n    imports: function () {\n      return [BidiModule, CommonModule, OverlayModule, FormsModule, NzButtonModule, NzMenuModule, NzIconModule, NzNoAnimationModule, PlatformModule, NzOverlayModule, NzContextMenuServiceModule, NzOutletModule];\n    },\n    exports: function () {\n      return [NzMenuModule, NzDropDownDirective, NzDropDownADirective, NzDropdownMenuComponent, NzDropdownButtonDirective];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nconst listOfPositions = [new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'start',\n  overlayY: 'top'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'start',\n  overlayY: 'bottom'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'end',\n  overlayY: 'bottom'\n}), new ConnectionPositionPair({\n  originX: 'start',\n  originY: 'top'\n}, {\n  overlayX: 'end',\n  overlayY: 'top'\n})];\nlet NzContextMenuService = /*#__PURE__*/(() => {\n  class NzContextMenuService {\n    constructor(overlay) {\n      this.overlay = overlay;\n      this.overlayRef = null;\n      this.closeSubscription = Subscription.EMPTY;\n    }\n\n    create($event, nzDropdownMenuComponent) {\n      this.close(true);\n      const {\n        x,\n        y\n      } = $event;\n\n      if ($event instanceof MouseEvent) {\n        $event.preventDefault();\n      }\n\n      const positionStrategy = this.overlay.position().flexibleConnectedTo({\n        x,\n        y\n      }).withPositions(listOfPositions).withTransformOriginOn('.ant-dropdown');\n      this.overlayRef = this.overlay.create({\n        positionStrategy,\n        disposeOnNavigation: true,\n        scrollStrategy: this.overlay.scrollStrategies.close()\n      });\n      this.closeSubscription = merge(nzDropdownMenuComponent.descendantMenuItemClick$, fromEvent(document, 'click').pipe(filter(event => !!this.overlayRef && !this.overlayRef.overlayElement.contains(event.target)),\n      /** handle firefox contextmenu event **/\n      filter(event => event.button !== 2), take(1))).subscribe(() => {\n        this.close();\n      });\n      this.overlayRef.attach(new TemplatePortal(nzDropdownMenuComponent.templateRef, nzDropdownMenuComponent.viewContainerRef));\n    }\n\n    close(clear = false) {\n      if (this.overlayRef) {\n        this.overlayRef.detach();\n\n        if (clear) {\n          this.overlayRef.dispose();\n        }\n\n        this.overlayRef = null;\n        this.closeSubscription.unsubscribe();\n      }\n    }\n\n  }\n\n  NzContextMenuService.ɵfac = function NzContextMenuService_Factory(t) {\n    return new (t || NzContextMenuService)(ɵngcc0.ɵɵinject(ɵngcc1.Overlay));\n  };\n\n  NzContextMenuService.ɵprov = i0.ɵɵdefineInjectable({\n    factory: function NzContextMenuService_Factory() {\n      return new NzContextMenuService(i0.ɵɵinject(i1.Overlay));\n    },\n    token: NzContextMenuService,\n    providedIn: NzContextMenuServiceModule\n  });\n  return NzContextMenuService;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzContextMenuService, NzContextMenuServiceModule, NzDropDownADirective, NzDropDownDirective, NzDropDownModule, NzDropdownButtonDirective, NzDropdownMenuComponent }; //# sourceMappingURL=ng-zorro-antd-dropdown.js.map","map":null,"metadata":{},"sourceType":"module"}